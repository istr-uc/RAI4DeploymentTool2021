<?xml version="1.0" encoding="UTF-8"?>
<pasys:ComputationalSystem
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:pasys="www.unican.es/ISTR/P3forI4/pasys"
    xsi:schemaLocation="www.unican.es/ISTR/P3forI4/pasys ../../../metamodels/PABM_Metamodel.ecore#//pasys"
    name="SantanderPollution"
    date="20/11/2019"
    authors="P. López y R. Dintén">
  <ownedElements
      xsi:type="pasys:NodeCluster"
      name="PollutionCluster"
      id="PollutionCluster"/>
  <ownedElements
      xsi:type="pasys:NodeCluster"
      name="NimbusCluster"
      id="NimbusCluster"
      resources="//@ownedElements.14"/>
  <ownedElements
      xsi:type="pasys:NodeCluster"
      name="SupervisorCluster"
      id="SupervisorCluster"
      resources="//@ownedElements.15"/>
  <ownedElements
      xsi:type="pasys:ZookeeperServer"
      name="PollutionZkpr"
      id="PollutionZkpr"
      artifactName="zkServer.sh"
      artifactLocator="/home/gestor/apache/servers/zookeeper/bin"
      scriptFolderPath="/home/gestor/apache/servers/zookeeper/scripts"
      configFolderPath="/home/gestor/apache/servers/zookeeper/conf"
      dataFolderPath="/home/gestor/apache/servers/zookeeper/dataDir"
      logFolderPath="/home/gestor/apache/servers/zookeeper/logs"
      host="//@ownedElements.12"
      target="//@ownedElements.4"
      serverId="2"/>
  <ownedElements
      xsi:type="pasys:ResourceCluster"
      name="PollutionZkCluster"
      id="PollutionZkCluster"
      resources="2"/>
  <ownedElements
      xsi:type="pasys:KafkaServer"
      name="PollutionKafka"
      id="PollutionKafka"
      artifactName="kafka-server-start.sh"
      artifactLocator="/home/gestor/apache/servers/kafka/bin"
      scriptFolderPath="/home/gestor/apache/servers/kafka/scripts"
      configFolderPath="/home/gestor/apache/servers/kafka/config"
      dataFolderPath="/home/gestor/apache/servers/kafka/data"
      logFolderPath="/home/gestor/apache/servers/kafka/logs"
      host="//@ownedElements.11"
      target="//@ownedElements.0"
      commId="1"
      autoCreateTopicEnable="true"
      zookeeperConnect="//@ownedElements.4"
      listeners="PLAINTEXT://172.31.21.96:9092"
      advertisedListeners="PLAINTEXT://172.31.21.96:9092"
      clientPort="9092"/>
  <ownedElements
      xsi:type="pasys:CassandraServer"
      name="PollutionCassandra"
      id="PollutionCassandra"
      artifactName="cassandra"
      artifactLocator="/home/gestor/apache/servers/cassandra/bin"
      scriptFolderPath="/home/gestor/apache/servers/cassandra/scripts"
      configFolderPath="/home/gestor/apache/servers/cassandra/conf"
      dataFolderPath="/home/gestor/apache/servers/cassandra/data/data"
      logFolderPath="/home/gestor/apache/servers/cassandra/commitlog"
      host="//@ownedElements.13"
      target="//@ownedElements.7"
      logging="root"
      passwd="root"
      seeds="//@ownedElements.7"
      seedProviderClass="SimpleSeedProvider"
      listenAddress="//@ownedElements.13"
      rpcAddress="//@ownedElements.13"
      dataCenter="//@ownedElements.7"
      dataFileDir="/home/gestor/apache/servers/cassandra/data/data"
      rack="//@ownedElements.7"
      isSeed="true">
    <cqlSchemas
        filePath="/home/algorrim/Escritorio/Ricardo/git/PASYSDeploymentTool"
        fileName="cassandra_schema.sql"/>
  </ownedElements>
  <ownedElements
      xsi:type="pasys:ResourceCluster"
      name="CassandraCluster"
      id="CassandraCluster"
      resources="//@ownedElements.6"/>
  <ownedElements
      xsi:type="pasys:StormServer"
      name="PollutionStormNimbus"
      id="PollutionStormNimbus"
      artifactName="storm"
      artifactLocator="/home/gestor/apache/servers/storm/bin"
      scriptFolderPath="/home/gestor/apache/servers/storm/scripts"
      configFolderPath="/home/gestor/apache/servers/storm/conf"
      dataFolderPath="/home/gestor/apache/servers/storm/data"
      logFolderPath="/home/gestor/apache/servers/storm/logs"
      host="//@ownedElements.14"
      target="//@ownedElements.1"
      workflows="//@ownedElements.10"
      zookeeperConnect="//@ownedElements.4"
      nimbusSeeds="//@ownedElements.1"
      supervisors="//@ownedElements.2"
      isNimbus="true">
    <supervisorSlotPorts>6700</supervisorSlotPorts>
    <supervisorSlotPorts>6701</supervisorSlotPorts>
    <supervisorSlotPorts>6702</supervisorSlotPorts>
    <supervisorSlotPorts>6703</supervisorSlotPorts>
  </ownedElements>
  <ownedElements
      xsi:type="pasys:KafkaWorkloadStreamData"
      name="Pollution"
      id="Pollution"
      artifactName="kafka-topics.sh"
      artifactLocator="/home/gestor/apache/servers/kafka/bin"
      scriptFolderPath="/home/gestor/apache/apps/pollution/topics/scripts"
      configFolderPath="/home/gestor/apache/apps/pollution/topics/config"
      dataFolderPath="/home/gestor/apache/apps/pollution/topics/data"
      logFolderPath="/home/gestor/apache/apps/pollution/topics/log"
      numPartitions="1"
      numReplication="1"
      holder="1"/>
  <ownedElements
      xsi:type="pasys:Workflow"
      name="PollutionProcess"
      id="PollutionProcess"
      artifactName="SantanderPollution.jar"
      artifactLocator="/home/algorrim/Escritorio/Ricardo/workspace/santanderPollution/target"
      scriptFolderPath="/home/gestor/apache/apps/pollution/workflows/scripts"
      configFolderPath="/home/gestor/apache/apps/pollution/workflows/config"
      dataFolderPath="/home/gestor/apache/apps/pollution/workflows/data"
      logFolderPath="/home/gestor/apache/apps/pollution/workflows/log"
      rootTask="//@ownedElements.10/@ownedTasks.0"
      scheduler="//@ownedElements.8">
    <arguments>172.31.21.96</arguments>
    <arguments>172.31.25.7</arguments>
    <ownedTasks
        name="MainTask"
        id="MainTask"
        implementingClassName="es.unican.dintenr.santanderPollution.SantanderPollutionTopology"
        triggerStreamData="//@ownedElements.9"
        inputStreamData="//@ownedElements.9"/>
  </ownedElements>
  <ownedElements
      xsi:type="pasys:AWSVirtualProcessingNode"
      name="KafkaVNode"
      id="KafkaVNode"
      ip="172.31.21.96"
      userName="gestor"
      externalIP="34.255.137.20"/>
  <ownedElements
      xsi:type="pasys:AWSVirtualProcessingNode"
      name="ZookeeperVNode"
      id="ZookeeperVNode"
      ip="172.31.24.124"
      userName="gestor"
      externalIP="3.248.207.185"/>
  <ownedElements
      xsi:type="pasys:AWSVirtualProcessingNode"
      name="CassandraVNode"
      id="CassandraVNode"
      ip="172.31.25.7"
      userName="gestor"
      externalIP="54.194.247.222"/>
  <ownedElements
      xsi:type="pasys:AWSVirtualProcessingNode"
      name="NimbusVNode"
      id="NimbusVNode"
      ip="172.31.25.72"
      userName="gestor"
      externalIP="54.194.37.254"/>
  <ownedElements
      xsi:type="pasys:AWSVirtualProcessingNode"
      name="SupervisorVNode"
      id="SupervisorVNode"
      ip="172.31.26.169"
      userName="gestor"
      externalIP="34.248.160.67"/>
  <ownedElements
      xsi:type="pasys:StormServer"
      name="PollutionStormSupervisor"
      id="PollutionStormSupervisor"
      artifactName="storm"
      artifactLocator="/home/gestor/apache/servers/storm/bin"
      scriptFolderPath="/home/gestor/apache/servers/storm/scripts"
      configFolderPath="/home/gestor/apache/servers/storm/conf"
      dataFolderPath="/home/gestor/apache/servers/storm/data"
      logFolderPath="/home/gestor/apache/servers/storm/logs"
      host="//@ownedElements.15"
      target="//@ownedElements.1"
      zookeeperConnect="//@ownedElements.4"
      nimbusSeeds="//@ownedElements.1"
      supervisors="//@ownedElements.2">
    <supervisorSlotPorts>6700</supervisorSlotPorts>
    <supervisorSlotPorts>6701</supervisorSlotPorts>
    <supervisorSlotPorts>6702</supervisorSlotPorts>
    <supervisorSlotPorts>6703</supervisorSlotPorts>
  </ownedElements>
  <authenticationFiles
      key="34.255.137.20"
      value="/home/algorrim/ISTR_keypair.pem"/>
  <authenticationFiles
      key="3.248.207.185"
      value="/home/algorrim/ISTR_keypair.pem"/>
  <authenticationFiles
      key="54.194.37.254"
      value="/home/algorrim/ISTR_keypair.pem"/>
  <authenticationFiles
      key="54.194.247.222"
      value="/home/algorrim/ISTR_keypair.pem"/>
  <authenticationFiles
      key="34.248.160.67"
      value="/home/algorrim/ISTR_keypair.pem"/>
</pasys:ComputationalSystem>
